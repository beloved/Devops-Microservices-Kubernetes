Home

    Catalog

Settings

    Log Out

Knowledge
Ask a Mentor
activity
0
invalid format of config.yml
Profile image
Waqas S
about 15 hours ago

Hi,

I copied config.yml from

https://s3.amazonaws.com/video.udacity-data.com/topher/2019/May/5cda0d76_config/config.yml

It was falling in circleci and I then checked in online tool, it's showing this error.

(<unknown>): could not find expected ':' while scanning a simple key at line 27 column 1

In circleci I get following error:

#!/bin/sh -eo pipefail
# Unable to parse YAML
# while scanning a simple key
#  in 'string', line 27, column 1:
#     python3 -m venv venv
#     ^
# could not find expected ':'
#  in 'string', line 28, column 1:
#     . venv/bin/activate
#     ^
# 
# -------
# Warning: This configuration was auto-generated to show you the message above.
# Don't rerun this job. Rerunning will have no effect.
false
Exited with code exit status 1
CircleCI received exit code 1

Can you please provide and guide me to the proper config filel. thanks

    Cloud DevOps Engineer
    Operationalize a Machine Learning Microservice API

1 Answer

0

Valid file with correct formatting.
# Python CircleCI 2.0 configuration file
#
# Check https://circleci.com/docs/2.0/language-python/ for more details
#
version: 2
jobs:
  build:
    docker:
    # Use the same Docker base as the project
      - image: python:3.7.3-stretch
    # working_directory: ~/repo
    steps:
      - checkout
      # Download and cache dependencies
      - restore_cache:
          keys:
            - v1-dependencies-{{ checksum "requirements.txt" }}
            # fallback to using the latest cache if no exact match is found
            - v1-dependencies-
      - run:
          name: install dependencies
          command: |
            python3 -m venv venv
            . venv/bin/activate
            make install
            # Install hadolint
            wget -O /bin/hadolint https://github.com/hadolint/hadolint/releases/download/v1.16.3/hadolint-Linux-x86_64 &&\
                chmod +x /bin/hadolint
      - save_cache:
          paths:
            - ./venv
          key: v1-dependencies-{{ checksum "requirements.txt" }}
      # run lint!s
      - run:
          name: run lint
          command: |
            . venv/bin/activate
            make lint
